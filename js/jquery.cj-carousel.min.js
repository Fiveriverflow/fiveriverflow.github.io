(function(e){function Q(a){this.itm=a}function U(a){this.style[t]=this.style[t].split("translateZ")[0]+"translateZ("+a+"px)"}function V(a){var b=e(this);a=e("<img />").attr({width:b.attr("width"),height:b.attr("height")}).data("parent",a).one("load.cj",W).insertAfter(b);b.remove();a.attr("src",b.attr("data-src"))}function W(a){a.stopPropagation();a=e(this).data("parent");var b=a.data();if(b.count<b.len)b.count++;else{var c=b.cont,d=c.children(),h=b.len+1,k=360/h,g,m,f,q,n,l,E,y,p,w,s,v,x,z,M=0;m= 0;var r=e(b.imagery[0]),b="true"===a.attr("data-captionsAlwaysVisible"),I=parseFloat(a.attr("data-reflectAlpha"))||0.5,u=parseInt(r.attr("height"),0)||r.height(),r=parseInt(r.attr("width"),0)||r.width(),N=parseInt(a.attr("data-spacing"),10)||60,J="true"===a.attr("data-reflection"),D="true"===a.attr("data-animateIn"),K="true"===a.attr("data-hoverShine"),F=a.data("wrapper");p=F.width()||640;var B=r+6,G=u+6,L=u>>1,N=(r+N)/2/Math.tan(Math.PI/h)+0.5|0;c.data({wide:r,length:h,parent:F,halfWidth:p>>1,auto:"true"=== a.attr("data-autoplay"),threshold:parseFloat(a.attr("data-threshold"))||0.0025});F.data("container",c);a.removeData().data("container",c);c=c[0];c.speed=parseFloat(a.attr("data-speed"));c.rotateX=p=parseInt(a.attr("data-rotateX"),10)+"deg";c.rotateZ=w=parseInt(a.attr("data-rotateZ"),10)+"deg";c.translateZ=x=parseInt(a.attr("data-translateZ"),10)+"px";c.counter=0;H&&(c.timed=new Q(c));for(var O=0;O<h;O++)if(g=d[O],g.style[t]="rotateY("+M+"deg) translateZ("+N+"px)",M+=k,y=e(g).removeData().css("width", r+3),g=y.children(".cj-thumb"),g.length){if(g.attr("data-url"))g.addClass("cj-mouse").on("click.cj",R);f=y.find(".cj-caption");(n=f.length)?(s=f.height(),b?(v=!0,m=s,f.addClass("cj-border")):(m=0,v=!1,g.data({content:f,contentH:s}).on("mouseenter.cj",S).on("mouseleave.cj",X)),f.css({height:m,width:f.width(),visibility:"visible"})):(s=0,v=!0);l=g.children("img");m=l[0];q=A.createDocumentFragment();E=e("<canvas />").attr({width:B,height:G});f=E[0];q.appendChild(f);l.remove();l=P(f,m,r,u);l.restore(); if(K&&!H&&(f=E.clone().addClass("cj-hover"),f=f[0],q.appendChild(f),l=P(f,m,r,u),z=l.getImageData(0,0,B,G),T(z),l.putImageData(z,0,0),l.restore(),g.data("shine",f),v))g.on("mouseenter.cj",S);f=e("<div />").addClass("cj-absolute").appendTo(g);f[0].appendChild(q);J&&(f=E.clone().addClass("cj-reflection").attr({width:B,height:G}).css("top",u).appendTo(y),y=s+u,n&&b&&f.css("top",y),f=f[0],l=f.getContext("2d"),l.save(),l.translate(3,u+3),l.scale(1,-1),l.drawImage(m,0,0,r,u),l.restore(),l.globalCompositeOperation= "destination-out",n=l.createLinearGradient(0,0,0,L),n.addColorStop(0,"rgba(0, 0, 0, "+(1-I)+")"),n.addColorStop(1,"rgba(0, 0, 0, 1.0)"),l.fillStyle=n,l.rect(0,0,B,G),l.fill(),g.data({high:u,reflect:f,rHeight:y}))}F.css("background-image","none");a.css({width:B,visibility:"visible"});c.style[t]="translateZ("+(D?"-5000px":x)+") rotateX("+p+") rotateZ("+w+") rotateY(0deg)";D?Jacked.transform(c,{transform:"translateZ("+x+") rotateX("+p+") rotateZ("+w+") rotateY(-360deg)"},{duration:1E3,ease:"Quint.easeInOut", callback:C,callbackParams:!0}):C(c,!0)}}function C(a,b,c){var d=e(a).data();(d.auto||c)&&Jacked.special(a,{duration:2E4,ease:"Linear.easeNone",callback:Y});if(b){if(H)d.parent.on("touchstart.cj",Z).on("touchend.cj",$);else d.parent.on("mouseenter.cj",aa).on("mouseleave.cj",ba);p&&p.trigger("cjReady")}}function Y(a,b,c){a.counter-=a.speed;a.style[t]="translateZ("+a.translateZ+") rotateX("+a.rotateX+") rotateY("+a.counter+"deg) rotateZ("+a.rotateZ+")";c&&C(a)}function T(a){a=a.data;for(var b=a.length, c=4*b,d,e,k,g,m;b--;)c-=4,d=c+1,e=d+1,k=a[c]*v+w,g=a[d]*v+w,m=a[e]*v+w,a[c]=255<k?255:0>k?0:k,a[d]=255<g?255:0>g?0:g,a[e]=255<m?255:0>m?0:m}function R(a){a.stopPropagation();a=e(this);"_blank"!==a.attr("data-target")?window.location=a.attr("data-url"):window.open(a.attr("data-url"))}function S(){var a=e(this).data(),b=a.content,c=a.shine,d=a.reflect;c&&(Jacked.stopTween(c),c.style.opacity=1,Jacked.tween(c,{opacity:0},{ease:"Quint.easeInOut"}));b&&(b.addClass("cj-border"),Jacked.tween(b[0],{height:a.contentH}), d&&Jacked.tween(a.reflect,{top:a.rHeight}))}function X(){var a=e(this).data(),b=a.content,c=a.reflect;b&&(b.removeClass("cj-border"),Jacked.tween(b[0],{height:0}),c&&Jacked.tween(a.reflect,{top:a.high}))}function P(a,b,c,d){a=a.getContext("2d");a.save();a.translate(3,3);a.drawImage(b,0,0,c,d);a.strokeStyle="transparent";a.lineWidth=3;a.stroke();return a}function aa(){var a=e(this),b=a.data(),c=b.container;c.data("auto")||C(c[0],!1,!0);b.offsetX=a.on("mousemove.cj",ca).offset().left}function ca(a){var b= e(this),c=b.data("container"),d=c.data(),h=d.halfWidth;a=a.pageX-b.data("offsetX");c=c[0];a<h?(c.speed=-((h-a)*d.threshold),c.direction=0):(c.speed=(a-h)*d.threshold,c.direction=1)}function ba(){var a=e(this).off("mousemove.cj").data("container");a.data("auto")||(a=a[0],a.throttle=a.speed,Jacked.special(a,{duration:3E3,ease:"Linear.easeNone",callback:da}))}function da(a){a.direction?(a.throttle-=0.01,0>=a.throttle&&Jacked.stopTween(a)):(a.throttle+=0.01,0<=a.throttle&&Jacked.stopTween(a));a.counter-= a.throttle;a.style[t]="translateZ("+a.translateZ+") rotateX("+a.rotateX+") rotateY("+a.counter+"deg) rotateZ("+a.rotateZ+")"}function Z(a){var b=e(this),c=b.data("container"),d=c.data(),c=c[0];clearTimeout(c.timed.timer);Jacked.stopTween(c);d.prevX=d.pageX=a.originalEvent.touches?a.originalEvent.touches[0].pageX:a.pageX;b.on("touchmove.cj",ea)}function ea(a){var b=e(this).data("container"),c=b.data(),d,h=c.prevX;d=a.originalEvent&&a.originalEvent.touches?c.pageX=a.originalEvent.touches[0].pageX:c.pageX= a.pageX;10<Math.abs(h-d)&&a.preventDefault();a=2*(d-h)*c.threshold;b=b[0];b.counter+=a;b.style[t]="translateZ("+b.translateZ+") rotateX("+b.rotateX+") rotateY("+b.counter+"deg) rotateZ("+b.rotateZ+")"}function $(a){var b=e(this).off("touchmove.cj").data("container"),c=b.data(),d=c.prevX;a=a.originalEvent.touches?c.pageX:a.pageX;var h=Math.abs(a-d),b=b[0];b.timed.timing();10>h||200<h||(b.counter=a<d?b.counter-360/c.length:b.counter+360/c.length,Jacked.transform(b,{transform:"translateZ("+b.translateZ+ ") rotateX("+b.rotateX+") rotateY("+b.counter+"deg) rotateZ("+b.rotateZ+")"}))}function fa(a){var b=e(this),c=b.data(),b=b.children("img"),d=c.oWidth,h=c.oHeight;b.length&&(b.attr({width:d,height:h}),c.parent.css({width:d,height:"auto",marginBottom:a}).addClass("cj-responder"))}function I(a,b,c){var d=this.image=a.clone().data("instance",this).css("opacity",0).insertAfter(a).one("load.cj",this.imageLoaded),e=d.parent(),k=b.newWidth,g=this.parent=e.parent(),m=parseInt(d.attr("width"),10)||d.width(), f=parseInt(d.attr("height"),10)||d.height(),q=k/m*f|0,n,l=b.spacing,p=b.counter;k>m&&(k=m,q=f);this.shine=b.shine;this.newWidth=k;this.newHeight=q;n=d.next(".cj-caption");d.attr({width:k,height:q});e.data({oWidth:m,oHeight:f,parent:g});g.css({width:k,height:q,marginTop:b.rowSpacing});0!==p?g.css("margin-left",l):g.addClass("cj-clear");p<b.minusColumn?b.counter+=1:(b.counter=0,b.rowSpacing+=l);b.count===b.leg?b.count++:g.closest(".cj-wrapper").css("background-image","none");n.length&&(c?n.addClass("cj-caption-option"): (this.hasHover=!0,b=-n.children().outerHeight(!0),n.css({bottom:b,visibility:"visible"}),"opera"===J&&n.find("h3").css("textShadow","none"),g.data({content:n[0],contentH:b}).on("mouseenter.cj",D).on("mouseleave.cj",ga)));if(e.attr("data-url"))e.addClass("cj-mouse").on("click.cj",R);d.attr("src",a.attr("data-src"));a.removeData().remove()}function D(){var a=e(this).data(),b=a.shine,a=a.content;b&&(Jacked.stopTween(b),b.style.opacity=1,Jacked.tween(b,{opacity:0},{ease:"Sine.easeInOut"}));a&&Jacked.tween(a, {bottom:0})}function ga(){var a=e(this).data();Jacked.tween(a.content,{bottom:a.contentH})}function ha(){s.cjCarousel("init");s=null}var ia=["Patua+One"],K,z,J,p,s,t,H,L,x,A=document,v=1.5,w=30,ja={init:function(){var a,b,c=e(this),d=c.parent(),h=c.children(".cj-container"),k=600>e(window).width()&&"true"===c.attr("data-smartphonesUseFallback"),g=h.find(".cj-thumb");if(g.length&&(b=g.children("img"),a=b.length))if(t&&z&&L&&x&&!k)c.data({count:0,obj:c,len:a-1,imagery:b,cont:h,wrapper:d}),b.each(V, [c]);else{(h="true"===c.attr("data-smartphoneFallbackIsResponsive"))&&d.addClass("cj-grid-option");Jacked.setEngines({opera:!0});e("body").addClass("cj-grid");var d=c.parent().addClass("cj-fallback"),m=parseInt(c.attr("data-fallbackSpacing"),10)||5,f=parseInt(d.css("width"),10)||d.width(),q=parseInt(c.attr("data-fallbackColumns"),10)||4,c="true"===c.attr("data-hoverShine")&&!k,n=q-1;d.data({count:0,leg:a-1,counter:0,shine:c,rowSpacing:0,spacing:m,newWidth:(f-n*m)/q|0,minusColumn:n});for(c=0;c<a;c++)new I(e(b[c]), d.data(),k);k&&h&&g.each(fa,[m]);p&&p.trigger("cjReady")}},updateZ:function(a){e(this).data("container")[0].translateZ=a+"px"},updateX:function(a){e(this).data("container")[0].rotateX=a+"deg"},rotateZ:function(a){e(this).data("container")[0].rotateZ=a+"deg"},updateSpacing:function(a){var b=e(this).data("container"),c=b.data("wide"),b=b.children(),c=c+parseFloat(a);a=c/2/Math.tan(Math.PI/b.length)+0.5|0;b.each(U,[a])},addCallback:function(a){p=a}};e.fn.cjCarousel=function(a,b){return this.each(ja[a], [b])};Q.prototype.timing=function(){var a=this.itm;this.timer=setTimeout(function(){C(a)},3E3)};I.prototype.imageLoaded=function(){var a=e(this),b=a.data("instance");if(b.shine&&z){var c=b.newHeight+1,d=b.newWidth+1,h,k=e("<canvas />").attr({width:d,height:c}).css({left:-2,top:-2}).addClass("cj-hover").insertAfter(b.image),k=k[0];h=P(k,this,b.newWidth,b.newHeight);c=h.getImageData(0,0,d,c);b.parent.data("shine",k);T(c);h.putImageData(c,-1,-1);h.restore();if(!b.hasHover)b.parent.on("mouseenter.cj", D)}K?e(this).css("opacity",1):Jacked.tween(this,{opacity:1});a.removeData();delete b.parent;delete b.shine;delete b.newWidth;delete b.newHeight;delete b.hasHover};e(A).ready(function(){s=e(".cj-carousel");if(s.length){K=Jacked.getIE();J=Jacked.getBrowser();H=Jacked.getMobile();t=Jacked.getTransform();w=(w-128)*v+128;var a=A.body.style;L="WebkitPerspective"in a?"WebkitPerspective":"MozPerspective"in a?"MozPerspective":"OPerspective"in a?"OPerspective":"msPerspective"in a?"msPerspective":"perspective"in a?"perspective":null;z="getContext"in e("<canvas />")[0];var b=s;x="WebkitTransformStyle"in a?b.css("-webkit-transform-style"):"MozTransformStyle"in a?b.css("-moz-transform-style"):"OTransformStyle"in a?b.css("-o-transform-style"):"msTransformStyle"in a?b.css("-ms-transform-style"):"transformStyle"in a?b.css("transform-style"):null;"flat"===x&&(x=null);a=A.createElement("script");b=A.getElementsByTagName("script")[0];WebFontConfig={google:{families:ia},active:ha};a.src=("https:"==A.location.protocol? "https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";a.type="text/javascript";a.async="true";b.parentNode.insertBefore(a,b)}})})(jQuery);